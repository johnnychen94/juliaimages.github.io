<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Cropping, Resizing and Rescaling · JuliaImages</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../../assets/documenter.js"></script><script src="../../../../siteinfo.js"></script><script src="../../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../../assets/themeswap.js"></script><link href="../../../gridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../../"><img src="../../../../assets/logo.png" alt="JuliaImages logo"/></a><div class="docs-package-name"><span class="docs-autofit">JuliaImages</span></div><form class="docs-search" action="../../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../../">Home</a></li><li><a class="tocitem" href="../../../../install/">Getting started</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../../../tutorials/quickstart/">Quickstart</a></li><li><a class="tocitem" href="../../../../tutorials/arrays_colors/">Arrays, Numbers, and Colors</a></li><li><a class="tocitem" href="../../../../tutorials/conversions_views/">Conversions vs. views</a></li><li><a class="tocitem" href="../../../../tutorials/indexing/">Arrays: more advanced indexing</a></li></ul></li><li><span class="tocitem">Packages</span><ul><li><a class="tocitem" href="../../../../pkgs/">Introduction</a></li><li><a class="tocitem" href="../../../../pkgs/axes/">ImageAxes.jl</a></li><li><a class="tocitem" href="../../../../pkgs/metadata/">ImageMetaData.jl</a></li><li><a class="tocitem" href="../../../../pkgs/segmentation/">ImageSegmentation.jl</a></li><li><a class="tocitem" href="../../../../pkgs/transformations/">ImageTransformations.jl</a></li><li><a class="tocitem" href="../../../../pkgs/features/">ImageFeatures.jl</a></li></ul></li><li><a class="tocitem" href="../../">Demos</a></li><li><a class="tocitem" href="../../../../function_reference/">References</a></li><li><a class="tocitem" href="../../../../api_comparison/">Comparison with other image processing frameworks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Cropping, Resizing and Rescaling</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Cropping, Resizing and Rescaling</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaImages/juliaimages.github.io/blob/source/docs/examples/spatial_transformation/SpatialTransformations.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Cropping,-Resizing-and-Rescaling"><a class="docs-heading-anchor" href="#Cropping,-Resizing-and-Rescaling">Cropping, Resizing and Rescaling</a><a id="Cropping,-Resizing-and-Rescaling-1"></a><a class="docs-heading-anchor-permalink" href="#Cropping,-Resizing-and-Rescaling" title="Permalink"></a></h1><p><a href="../SpatialTransformations.jl"><img src="https://img.shields.io/badge/download-julia-brightgreen.svg" alt="Source code"/></a> <a href="https://nbviewer.jupyter.org/github/JuliaImages/juliaimages.github.io/blob/master/v0.23.3/democards/examples/spatial_transformation/SpatialTransformations.ipynb"><img src="https://img.shields.io/badge/show-nbviewer-579ACA.svg" alt="notebook"/></a> <img src="https://img.shields.io/badge/Author-Ashwani%20Rathee-blue" alt="Author"/> <img src="https://img.shields.io/date/1606176000" alt="Update time"/></p><p>This demonstration shows how to use cropping,resizing and rescaling operations on an image in Julia using ImageTransformations.jl</p><pre><code class="language-">using Images, ImageTransformations, TestImages, OffsetArrays
# load an example image
img_source = testimage(&quot;lighthouse&quot;)</code></pre><h2 id="Cropping-Operation"><a class="docs-heading-anchor" href="#Cropping-Operation">Cropping Operation</a><a id="Cropping-Operation-1"></a><a class="docs-heading-anchor-permalink" href="#Cropping-Operation" title="Permalink"></a></h2><p>Cropping is one of the most basic photo manipulation processes, and it is carried out to remove an unwanted object or irrelevant noise from the periphery of a photograph, to change its aspect ratio, or to improve the overall composition.</p><p>Let&#39;s first check the size of the image</p><pre><code class="language-">img_size = size(img_source)</code></pre><p>Output is <code>(512,768)</code> which stands means <code>img_source</code> is <code>512</code> in height and <code>768</code> in width. In Julia, images as multidimensional arrays are stored in column-major order, which means that this first index corresponds to the vertical axis (column) and the second to the horizontal axis (row).</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>An related issue about the memory order is the indexing performance, see <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#man-performance-column-major">Performance Tips</a> for more details.</p></div></div><p>Let&#39;s crop the image from sides by 1/8 of img_source each side and leave it as it is from top to bottom.</p><p>Easiest way to do this is indexing: <code>img_source[y1:y2, x1:x2]</code></p><p>Region of Interest: [y1, y2] sets the range for y-axis and [x1, x2] sets the range for x-axis of source image.</p><pre><code class="language-">img_cropped = @view img_source[ :,floor(Int, 1/8*img_size[2]) : floor(Int, 7/8*img_size[2])]</code></pre><p>Let&#39;s see the size of the cropped image:</p><pre><code class="language-">size(img_cropped)</code></pre><p>We can also do size-preserved cropping of the image by replacing the contents of image to white pixels or transparent pixels using PaddedView:</p><pre><code class="language-">img_padded = PaddedView(ARGB(0, 0, 0, 0), OffsetArray(img_cropped, OffsetArrays.Origin(1, floor(Int, 1/8*img_size[2]))), axes(img_source))</code></pre><h2 id="Resizing-Operation"><a class="docs-heading-anchor" href="#Resizing-Operation">Resizing Operation</a><a id="Resizing-Operation-1"></a><a class="docs-heading-anchor-permalink" href="#Resizing-Operation" title="Permalink"></a></h2><p>Resizing is a method to resize an image to a given specific output image shape. It is different from rescaling as in rescaling we use a scaling factor to manipulate the image.</p><pre><code class="language-">img_square = imresize(img_source, (400, 400));
img_small = imresize(img_source, ratio=1/4);
img_medium = imresize(img_small, size(img_small).*2);
mosaicview(img_source, img_square, img_small, img_medium; nrow=1)</code></pre><h2 id="Rescaling"><a class="docs-heading-anchor" href="#Rescaling">Rescaling</a><a id="Rescaling-1"></a><a class="docs-heading-anchor-permalink" href="#Rescaling" title="Permalink"></a></h2><p>Rescale operation resizes an image by a given scaling factor. The scaling factor can either be a single floating point value, or multiple values - one along each axis. Image scaling is the process of changing the size of an image while preserving the original aspect ratio.</p><h3 id="Rescaling-by-percentage"><a class="docs-heading-anchor" href="#Rescaling-by-percentage">Rescaling by percentage</a><a id="Rescaling-by-percentage-1"></a><a class="docs-heading-anchor-permalink" href="#Rescaling-by-percentage" title="Permalink"></a></h3><pre><code class="language-">percentage_scale = 0.6
new_size = trunc.(Int, size(img_source) .* percentage_scale)
img_rescaled = imresize(img_source, new_size);
mosaicview(img_source, img_rescaled; nrow=1)</code></pre><p>We calculated new size by estimating the size of frame by multiplying size by scale and then truncated it to Int format.</p><h3 id="Rescaling-to-a-specific-dimension"><a class="docs-heading-anchor" href="#Rescaling-to-a-specific-dimension">Rescaling to a specific dimension</a><a id="Rescaling-to-a-specific-dimension-1"></a><a class="docs-heading-anchor-permalink" href="#Rescaling-to-a-specific-dimension" title="Permalink"></a></h3><pre><code class="language-">new_width = 200
percentage_scale = new_width / size(img_source,2);
new_size = trunc.(Int, size(img_source) .* percentage_scale);
img_rescaled = imresize(img_source, new_size);
mosaicview(img_source, img_rescaled; nrow=1)</code></pre><p>We have updated our scale by percentage solution to calculate scale-percentage dynamically based on a change in one of the dimensions. Remember: `size(sourceimage) == (height, width)</p><h3 id="Rescaling-by-two-fold-using-restrict-function"><a class="docs-heading-anchor" href="#Rescaling-by-two-fold-using-restrict-function">Rescaling by two-fold using restrict function</a><a id="Rescaling-by-two-fold-using-restrict-function-1"></a><a class="docs-heading-anchor-permalink" href="#Rescaling-by-two-fold-using-restrict-function" title="Permalink"></a></h3><pre><code class="language-">rescaled_both = restrict(img_source); # both side
rescaled_height = restrict(img_source, 1); # height
rescaled_width = restrict(img_source, 2); # width
mosaicview(img_source, rescaled_both, rescaled_height, rescaled_width; nrow=1)</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/johnnychen94/DemoCards.jl">DemoCards.jl</a> and <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 29 December 2020 04:19">Tuesday 29 December 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
